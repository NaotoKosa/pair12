<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
<meta charset="UTF-8">
<title>SWAROID</title>
<link rel="stylesheet" type="text/css" href="/style.css">
<link rel="stylesheet" type="text/css" href="/tag.css">
<script>
function f(code){
	var result = confirm("キャンセルを確定しますか？");
	if(result == true){
		var form = document.querySelector("#form" + code);
		form.submit();
	}
}


</script>
</head>
<body>
<span><input th:replace="../static/reserveTag.html"></span>
	<br>
	<br>
	<br>
	<br>
	<h2>予約一覧</h2>
	<span th:text="${ERROR}" style="color:red"></span>
	<table border="0" class="table">

		<tr>
			<th>予約番号</th>
			<th>登録日</th>
			<th>会議室</th>
			<th>座席</th>
			<th>予約日</th>
			<th>開始時間</th>
			<th>終了時間</th>

			<th></th>
		</tr>
		<tr th:each="list:${reserveList}">
		<form action="/cancel" method="get" th:id="'form' + ${list.code}">
			<td th:text="${list.code}"></td>
			<td th:text="${list.ymd}"></td>
			<td th:text="${list.room}"></td>
			<td th:text="${list.seat}"></td>
			<td th:text="${list.date}"></td>
			<td th:text="${list.start}"></td>
			<td th:text="${list.finish}"></td>
			<td>
			<input type="hidden" name="list.code" th:value="${list.code}">
			<input type="hidden" name="list.date" th:value="${list.date}">
			<input type="hidden" name="list.start" th:value="${list.start}">
			<input type="hidden" name="list.finish" th:value="${list.finish}">
			<input type="button" th:value="キャンセル" th:attr="onclick='f(' + ${list.code} + ')'" th:disabled="${todaysDate > list.date || todaysDate == list.date && n > list.finish}">
			</td>
		</form>
		</tr>


	</table>
<br>
<a href="/main">メイン画面</a>
</body>
</html>